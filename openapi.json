{"openapi":"3.0.0","paths":{"/v1/workouts":{"get":{"operationId":"getCompletedWorkouts","parameters":[{"name":"cursor","required":true,"in":"query","schema":{"type":"number"}},{"name":"from","required":true,"in":"query","schema":{"format":"date-time","type":"string"}},{"name":"to","required":true,"in":"query","schema":{"format":"date-time","type":"string"}}],"responses":{"200":{"description":""},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."}},"security":[{"bearer":[]}],"summary":"Get a paginated list of completed workouts","tags":["Workouts"]},"post":{"operationId":"createDraftWorkout","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWorkoutDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."}},"security":[{"bearer":[]}],"summary":"Create a new draft workout","tags":["Workouts"]}},"/v1/workouts/count":{"get":{"operationId":"getCompletedWorkoutsCount","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"number"}}}},"401":{"description":"Unauthorized."}},"security":[{"bearer":[]}],"summary":"Get the total count of completed workouts","tags":["Workouts"]}},"/v1/workouts/calendar":{"get":{"operationId":"getWorkoutCalendar","parameters":[{"name":"year","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."}},"security":[{"bearer":[]}],"summary":"Get a workout calendar for a given year","tags":["Workouts"]}},"/v1/workouts/stats":{"get":{"operationId":"getWorkoutStats","parameters":[{"name":"from","required":true,"in":"query","schema":{"format":"date-time","type":"string"}},{"name":"to","required":true,"in":"query","schema":{"format":"date-time","type":"string"}}],"responses":{"200":{"description":""},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."}},"security":[{"bearer":[]}],"summary":"Get workout statistics for a date range","tags":["Workouts"]}},"/v1/workouts/active":{"get":{"operationId":"getActiveWorkout","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized."},"404":{"description":"No active workout found."}},"security":[{"bearer":[]}],"summary":"Get the current active workout","tags":["Workouts"]},"post":{"operationId":"createActiveWorkout","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized."},"409":{"description":"Active workout already exists."}},"security":[{"bearer":[]}],"summary":"Create a new active workout","tags":["Workouts"]},"delete":{"operationId":"deleteActiveWorkout","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized."},"404":{"description":"No active workout found."}},"security":[{"bearer":[]}],"summary":"Delete the current active workout","tags":["Workouts"]}},"/v1/workouts/{workoutId}":{"get":{"operationId":"getWorkout","parameters":[{"name":"workoutId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Workout not found."}},"security":[{"bearer":[]}],"summary":"Get a specific workout by ID","tags":["Workouts"]},"patch":{"operationId":"updateWorkout","parameters":[{"name":"workoutId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWorkoutDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"404":{"description":"Workout not found."}},"security":[{"bearer":[]}],"summary":"Update a workout by ID","tags":["Workouts"]},"delete":{"operationId":"deleteWorkout","parameters":[{"name":"workoutId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Workout not found."}},"security":[{"bearer":[]}],"summary":"Delete a workout by ID","tags":["Workouts"]}},"/v1/workouts/active/pause":{"patch":{"operationId":"pauseActiveWorkout","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized."},"404":{"description":"No active workout found."}},"security":[{"bearer":[]}],"summary":"Pause the current active workout","tags":["Workouts"]}},"/v1/workouts/active/resume":{"patch":{"operationId":"resumeActiveWorkout","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized."},"404":{"description":"No paused workout found."}},"security":[{"bearer":[]}],"summary":"Resume the current paused workout","tags":["Workouts"]}},"/v1/workouts/{workoutId}/complete":{"post":{"operationId":"completeWorkout","parameters":[{"name":"workoutId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Workout not found."}},"security":[{"bearer":[]}],"summary":"Complete a workout by ID","tags":["Workouts"]}},"/v1/workouts/{workoutId}/workoutExercises":{"post":{"operationId":"createWorkoutExercise","parameters":[{"name":"workoutId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWorkoutExerciseDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"404":{"description":"Workout not found."}},"security":[{"bearer":[]}],"summary":"Add an exercise to a workout","tags":["Workouts"]}},"/v1/workouts/{workoutId}/workoutExercises/{workoutExerciseId}":{"patch":{"operationId":"updateWorkoutExercise","parameters":[{"name":"workoutId","required":true,"in":"path","schema":{"type":"number"}},{"name":"workoutExerciseId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWorkoutExerciseDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"404":{"description":"Workout exercise not found."}},"security":[{"bearer":[]}],"summary":"Update a workout exercise by ID","tags":["Workouts"]},"delete":{"operationId":"deleteWorkoutExercise","parameters":[{"name":"workoutId","required":true,"in":"path","schema":{"type":"number"}},{"name":"workoutExerciseId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Workout exercise not found."}},"security":[{"bearer":[]}],"summary":"Delete a workout exercise by ID","tags":["Workouts"]}},"/v1/workouts/{workoutId}/workoutExercises/{workoutExerciseId}/sets":{"get":{"operationId":"getWorkoutExerciseSets","parameters":[{"name":"workoutId","required":true,"in":"path","schema":{"type":"number"}},{"name":"workoutExerciseId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Workout exercise not found."}},"security":[{"bearer":[]}],"summary":"Get all sets for a workout exercise","tags":["Workouts"]},"post":{"operationId":"createWorkoutSet","parameters":[{"name":"workoutId","required":true,"in":"path","schema":{"type":"number"}},{"name":"workoutExerciseId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWorkoutSetDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"404":{"description":"Workout exercise not found."}},"security":[{"bearer":[]}],"summary":"Add a set to a workout exercise","tags":["Workouts"]}},"/v1/workouts/{workoutId}/workoutExercises/{workoutExerciseId}/sets/{setId}":{"patch":{"operationId":"updateWorkoutSet","parameters":[{"name":"workoutId","required":true,"in":"path","schema":{"type":"number"}},{"name":"workoutExerciseId","required":true,"in":"path","schema":{"type":"number"}},{"name":"setId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWorkoutSetDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"404":{"description":"Set not found."}},"security":[{"bearer":[]}],"summary":"Update a set for a workout exercise","tags":["Workouts"]},"delete":{"operationId":"deleteWorkoutSet","parameters":[{"name":"workoutId","required":true,"in":"path","schema":{"type":"number"}},{"name":"workoutExerciseId","required":true,"in":"path","schema":{"type":"number"}},{"name":"setId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Set not found."}},"security":[{"bearer":[]}],"summary":"Delete a set from a workout exercise","tags":["Workouts"]}},"/v1/users/account":{"delete":{"operationId":"deleteAccount","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteAccountDto"}}}},"responses":{"200":{"description":""},"400":{"description":"Invalid password."},"401":{"description":"Unauthorized."},"404":{"description":"User not found."}},"security":[{"bearer":[]}],"summary":"Delete the current user's account","tags":["Users"]}},"/v1/auth/register":{"post":{"operationId":"register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"400":{"description":"Bad Request."},"409":{"description":"Email already in use."}},"summary":"Register a new user","tags":["Auth"]}},"/v1/auth/login":{"post":{"operationId":"login","parameters":[],"responses":{"201":{"description":""},"401":{"description":"Invalid credentials."}},"summary":"Log in a user","tags":["Auth"]}},"/v1/auth/refresh":{"post":{"operationId":"refresh","parameters":[],"responses":{"201":{"description":""},"401":{"description":"Refresh token required or invalid."}},"summary":"Refresh access token using refresh token","tags":["Auth"]}},"/v1/auth/logout":{"post":{"operationId":"logout","parameters":[],"responses":{"201":{"description":""},"401":{"description":"Unauthorized."}},"security":[{"bearer":[]}],"summary":"Log out the current user","tags":["Auth"]}},"/v1/auth/whoami":{"get":{"operationId":"whoAmI","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized."}},"security":[{"bearer":[]}],"summary":"Get current authenticated user","tags":["Auth"]}},"/v1/auth/change-password":{"post":{"operationId":"changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"201":{"description":""},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."}},"security":[{"bearer":[]}],"summary":"Change password for current user","tags":["Auth"]}},"/v1/auth/confirm/{token}":{"get":{"operationId":"confirmEmail","parameters":[{"name":"token","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""},"400":{"description":"Invalid or expired token."},"404":{"description":"User not found."}},"summary":"Confirm user email address","tags":["Auth"]}},"/v1/auth/resend-confirmation":{"post":{"operationId":"resendConfirmation","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResendConfirmationDto"}}}},"responses":{"201":{"description":""},"400":{"description":"Bad Request."},"404":{"description":"User not found."}},"summary":"Resend email confirmation","tags":["Auth"]}},"/v1/auth/request-password-reset":{"post":{"operationId":"requestPasswordReset","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestPasswordResetDto"}}}},"responses":{"201":{"description":""},"400":{"description":"Bad Request."},"404":{"description":"User not found."}},"summary":"Request password reset email","tags":["Auth"]}},"/v1/auth/password-reset/{token}":{"post":{"operationId":"resetPassword","parameters":[{"name":"token","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"201":{"description":""},"400":{"description":"Invalid or expired token."},"404":{"description":"User not found."}},"summary":"Reset password using reset token","tags":["Auth"]}},"/v1/auth/demo/create-session":{"post":{"operationId":"createDemoSession","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDemoSessionDto"}}}},"responses":{"201":{"description":""},"400":{"description":"Bad Request."},"429":{"description":"Too many demo sessions."}},"summary":"Create a demo session","tags":["Auth"]}},"/v1/exercises":{"get":{"operationId":"getAllExercises","parameters":[{"name":"cursor","required":true,"in":"query","schema":{"type":"number"}},{"name":"name","required":true,"in":"query","schema":{"type":"string"}},{"name":"targetMuscleGroups","required":true,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"equipment","required":true,"in":"query","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":""},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."}},"security":[{"bearer":[]}],"summary":"Get all exercises for the current user","tags":["Exercises"]},"post":{"operationId":"createExercise","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateExerciseDto"}}}},"responses":{"201":{"description":""},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"409":{"description":"Exercise already exists."}},"security":[{"bearer":[]}],"summary":"Create a new exercise","tags":["Exercises"]}},"/v1/exercises/{exerciseId}":{"get":{"operationId":"getExercise","parameters":[{"name":"exerciseId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""},"401":{"description":"Unauthorized."},"404":{"description":"Exercise not found."}},"security":[{"bearer":[]}],"summary":"Get a specific exercise by ID","tags":["Exercises"]},"patch":{"operationId":"updateExercise","parameters":[{"name":"exerciseId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateExerciseDto"}}}},"responses":{"200":{"description":""},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"404":{"description":"Exercise not found."}},"security":[{"bearer":[]}],"summary":"Update an existing exercise","tags":["Exercises"]},"delete":{"operationId":"deleteExercise","parameters":[{"name":"exerciseId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""},"401":{"description":"Unauthorized."},"404":{"description":"Exercise not found."}},"security":[{"bearer":[]}],"summary":"Delete an exercise","tags":["Exercises"]}},"/v1/exercises/{exerciseId}/workouts":{"get":{"operationId":"getExerciseWorkouts","parameters":[{"name":"exerciseId","required":true,"in":"path","schema":{"type":"number"}},{"name":"cursor","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""},"401":{"description":"Unauthorized."},"404":{"description":"Exercise not found."}},"security":[{"bearer":[]}],"summary":"Get workouts that use a specific exercise","tags":["Exercises"]}},"/health":{"get":{"operationId":"check","parameters":[],"responses":{"200":{"description":""},"503":{"description":"Database unavailable."}},"summary":"Check basic health status of the API and database connection","tags":["Health"]}},"/health/detailed":{"get":{"operationId":"detailed","parameters":[],"responses":{"200":{"description":""},"401":{"description":"Unauthorized."},"503":{"description":"Database unavailable."}},"security":[{"bearer":[]}],"summary":"Get detailed health status (auth required)","tags":["Health"]}}},"info":{"title":"NextLift API","description":"API documentation for the NextLift application","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"access-token":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateWorkoutDto":{"type":"object","properties":{"title":{"type":"string","minLength":2,"maxLength":50},"notes":{"type":"string","maxLength":200},"startedAt":{"type":"string"},"activeDuration":{"type":"number","maximum":43200,"minimum":1}},"required":["title","notes","startedAt","activeDuration"]},"UpdateWorkoutDto":{"type":"object","properties":{"title":{"type":"string","minLength":2,"maxLength":32},"notes":{"type":"string","maxLength":200},"startedAt":{"type":"string"},"activeDuration":{"type":"number","maximum":43200,"minimum":1}},"required":["title","notes","startedAt","activeDuration"]},"CreateWorkoutExerciseDto":{"type":"object","properties":{"exerciseId":{"type":"number"}},"required":["exerciseId"]},"UpdateWorkoutExerciseDto":{"type":"object","properties":{"notes":{"type":"string","maxLength":200}},"required":["notes"]},"CreateWorkoutSetDto":{"type":"object","properties":{"reps":{"type":"number"},"weight":{"type":"number"},"duration":{"type":"number"}},"required":["reps","weight","duration"]},"UpdateWorkoutSetDto":{"type":"object","properties":{"reps":{"type":"number","maximum":1000,"minimum":1},"weight":{"type":"number","minimum":0,"maximum":10000},"duration":{"type":"number","maximum":86400,"minimum":1},"completed":{"type":"boolean"},"type":{"type":"string","enum":["normal","warmup","dropset","failure"]}},"required":["reps","weight","duration","completed","type"]},"DeleteAccountDto":{"type":"object","properties":{"password":{"type":"string"}},"required":["password"]},"RegisterUserDto":{"type":"object","properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"}},"required":["email","password"]},"UserResponseDto":{"type":"object","properties":{"id":{"type":"number"},"email":{"type":"string"}},"required":["id","email"]},"ChangePasswordDto":{"type":"object","properties":{"currentPassword":{"type":"string"},"newPassword":{"type":"string"}},"required":["currentPassword","newPassword"]},"ResendConfirmationDto":{"type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"]},"RequestPasswordResetDto":{"type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"]},"ResetPasswordDto":{"type":"object","properties":{"password":{"type":"string"}},"required":["password"]},"CreateDemoSessionDto":{"type":"object","properties":{"captchaToken":{"type":"string"}},"required":["captchaToken"]},"CreateExerciseDto":{"type":"object","properties":{"name":{"type":"string"},"category":{"type":"string"},"targetMuscleGroups":{"minItems":1,"maxItems":5,"type":"array","items":{"type":"string"}},"secondaryMuscleGroups":{"maxItems":5,"type":"array","items":{"type":"string"}},"equipment":{"type":"string"}},"required":["name","category","targetMuscleGroups","secondaryMuscleGroups","equipment"]},"UpdateExerciseDto":{"type":"object","properties":{"name":{"type":"string"},"category":{"type":"string"},"targetMuscleGroups":{"minItems":1,"maxItems":5,"type":"array","items":{"type":"string"}},"secondaryMuscleGroups":{"maxItems":5,"type":"array","items":{"type":"string"}},"equipment":{"type":"string"}},"required":["name","category","targetMuscleGroups","secondaryMuscleGroups","equipment"]}}}}